{"version":3,"sources":["script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/script.js","sourcesContent":["$(document).ready(function() {\r\n\r\n\r\n  //fixed menu\r\n  var menu = $('.header');\r\n  var menuPosition;\r\n  $(window).on('scroll', function() {\r\n    var menuCoords = menu.offset();\r\n    var windowScroll = $(this).scrollTop();\r\n    if (!menuPosition) {\r\n      menuPosition = menuCoords.top;\r\n    }\r\n    if(windowScroll > 0) {\r\n      $('.header').addClass('scrolled');\r\n    } else {\r\n      menuPosition = false;\r\n      $('.header').removeClass('scrolled');\r\n    }\r\n  });\r\n\r\n\r\n  //stocks tabs\r\n  $('.stocks__tabs-item').click(function () {\r\n    $(this).siblings('.stocks__tabs-item').removeClass('active');\r\n    $(this).addClass('active');\r\n\r\n    var activeTab = $('.stocks__tabs-item.active');\r\n    var activeImage = activeTab.children('.stocks__miniature').attr('src');\r\n    $('.stocks__container').css('background-image', 'url(' + activeImage + ')');\r\n\r\n    var activeDate = activeTab.children('.stocks__tabs-date').text();\r\n    $('.stocks__info_date').text(activeDate);\r\n    var activeOther = activeTab.children('.stocks__tabs-other').text();\r\n    $('.stocks__info_other').text(activeOther);\r\n  })\r\n\r\n\r\n  //services tabs\r\n  $('.services__tabs-item').click(function () {\r\n    $(this).siblings('.services__tabs-item').removeClass('active');\r\n    $(this).addClass('active');\r\n\r\n    var tagNum = $(this).attr('data-num');\r\n    $('.services__item').removeClass('active');\r\n    var activeItem = $('.services__item').filter(function(){return $(this).data(\"num\")   == tagNum});\r\n    activeItem.addClass('active');\r\n\r\n    if(activeItem.hasClass('loaded')) {\r\n\r\n    } else {\r\n      var activeImages = activeItem.find('img');\r\n      for(var i = 0; i < activeImages.length; i++) {\r\n        var imgSrc = activeImages[i].getAttribute('data-src');\r\n        activeImages[i].setAttribute('src', imgSrc);\r\n        activeImages[i].removeAttribute('data-src');\r\n      }\r\n      activeItem.addClass('loaded');\r\n    }\r\n\r\n    if($(window).width() < 1000) {\r\n      var activeSlider = activeItem.find('.services__slider');\r\n      var servicesSliderNew = new Swiper (activeSlider, {\r\n        direction: 'horizontal',\r\n        speed: 500,\r\n        slidesPerView: 'auto',\r\n        spaceBetween: 30,\r\n        loop: true\r\n      })\r\n    }\r\n  })\r\n\r\n\r\n  //smooth scrolling\r\n  $(\".header__menu ul a, .header__logo, .footer__up\").on(\"click\", function (event) {\r\n    event.preventDefault();\r\n    var id = $(this).attr('href'),\r\n      top = $(id).offset().top;\r\n    $('body,html').animate({scrollTop: top - 50}, 600);\r\n  });\r\n\r\n\r\n  //sliders\r\n  if($('div').is('.trainers__slider')) {\r\n    var trainersSlider = new Swiper ('.trainers__slider', {\r\n      direction: 'horizontal',\r\n      speed: 500,\r\n      slidesPerView: 'auto',\r\n      centeredSlides: true,\r\n      navigation: {\r\n        nextEl: '.trainers__arrow-next',\r\n        prevEl: '.trainers__arrow-prev'\r\n      },\r\n      breakpoints: {\r\n        500: {\r\n          centeredSlides: false\r\n        }\r\n      }\r\n    })\r\n  }\r\n  if($('div').is('.cards__slider')) {\r\n    var cardsSlider = new Swiper ('.cards__slider', {\r\n      direction: 'horizontal',\r\n      speed: 500,\r\n      slidesPerView: 'auto',\r\n      centeredSlides: true,\r\n      loop: true,\r\n      navigation: {\r\n        nextEl: '.cards__arrow-next',\r\n        prevEl: '.cards__arrow-prev'\r\n      },\r\n      breakpoints: {\r\n        500: {\r\n          centeredSlides: false\r\n        }\r\n      }\r\n    })\r\n  }\r\n  if($('div').is('.gallery__slider')) {\r\n    var gallerySlider = new Swiper ('.gallery__slider', {\r\n      direction: 'horizontal',\r\n      speed: 500,\r\n      slidesPerView: 'auto',\r\n      spaceBetween: 15,\r\n      loop: false,\r\n      navigation: {\r\n        nextEl: '.gallery__arrow-next',\r\n        prevEl: '.gallery__arrow-prev'\r\n      },\r\n      breakpoints: {\r\n        500: {\r\n          loop: true,\r\n          centeredSlides: false,\r\n          spaceBetween: 30\r\n        }\r\n      }\r\n    })\r\n  }\r\n  if(($('div').is('.services__slider')) && ($(window).width() < 1000)) {\r\n    var servicesSlider = new Swiper ('.services__slider', {\r\n      direction: 'horizontal',\r\n      speed: 500,\r\n      slidesPerView: 'auto',\r\n      spaceBetween: 15,\r\n      loop: false,\r\n      breakpoints: {\r\n        500: {\r\n          spaceBetween: 30\r\n        }\r\n      }\r\n    })\r\n  }\r\n  var modalServicesSlider = new Swiper ('.modal__slider_services', {\r\n    direction: 'horizontal',\r\n    speed: 500,\r\n    slidesPerView: 1,\r\n    loop: false,\r\n    navigation: {\r\n      nextEl: '.modal__arrow-next',\r\n      prevEl: '.modal__arrow-prev'\r\n    },\r\n     on: {\r\n       touchStart: function() {\r\n         modalServicesSlider.update();\r\n         return true;\r\n       }\r\n     }\r\n  })\r\n\r\n\r\n\r\n\r\n  //form inputs animate\r\n  $(\".form__input\").focus( function () {\r\n    var focusEl = $(this);\r\n    focusEl.parent('.form__input-wrap').addClass(\"active\");\r\n    $(document).mouseup(function (e) {\r\n      if (!focusEl.is(e.target)\r\n        && focusEl.has(e.target).length === 0) {\r\n        if(focusEl.val() === '') {\r\n          focusEl.parent('.form__input-wrap').removeClass(\"active\");\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n\r\n  //modal\r\n  $('.button, .media__video-play, .services__slider-item, .gallery__image').click(function(e) {\r\n\r\n    if ($(this).hasClass('stocks__button')) {\r\n      setTimeout(function() {\r\n        $('.modal__wrapper').addClass('active modal_stocks');\r\n      }, 200)\r\n      var activeTab = $('.stocks__tabs-item.active');\r\n      var activeImage = activeTab.children('.stocks__miniature').attr('src');\r\n      $('.modal__header').css('background-image', 'url(' + activeImage + ')');\r\n    }\r\n\r\n    else if ($(this).hasClass('header__button')) {\r\n      $('body').addClass('no-scroll');\r\n      setTimeout(function() {\r\n        $('.modal__special').addClass('active');\r\n      }, 200)\r\n      $('.modal__title').text('Получите специальное предложение');\r\n      //tabs\r\n      $('.modal__special-item').click(function () {\r\n        $(this).siblings('.modal__special-item').removeClass('active');\r\n        $(this).addClass('active');\r\n      })\r\n    }\r\n\r\n    else if ($(this).hasClass('services__button')) {\r\n      setTimeout(function() {\r\n        $('.modal__wrapper').addClass('active modal_services');\r\n      }, 200)\r\n      $('.modal__title').text('Запись на тренировку');\r\n      $('.modal__additional').text('Тип занятия:');\r\n      var activeTab = $('.services__tabs-item.active').text();\r\n      $('.modal__additional-field').text(activeTab);\r\n    }\r\n\r\n    else if ($(this).hasClass('trainers__button')) {\r\n      setTimeout(function() {\r\n        $('.modal__wrapper').addClass('active modal_trainers');\r\n      }, 200)\r\n      $('.modal__title').text('Запись на тренировку');\r\n      var activeTrainer = $(this).parent('.trainers__slider-wrapper').find('.trainers__name');\r\n      $('.modal__additional-field').text(activeTrainer.text());\r\n      $('.modal__additional').text('Тренер:');\r\n    }\r\n\r\n    else if ($(this).hasClass('cards__button')) {\r\n      setTimeout(function() {\r\n        $('.modal__wrapper').addClass('active modal_cards');\r\n      }, 200)\r\n      $('.modal__title').text('Заказ клубной карты');\r\n      var activeCard = $(this).closest('.cards__slider-wrapper').find('.cards__cover');\r\n      var cardName = activeCard.find('.cards__name');\r\n      var cardColor = activeCard.attr('style');\r\n      $('.modal__card .cards__name').text(cardName.text());\r\n      $('.modal__card .cards__description').text(cardName.text());\r\n      $('.modal__card').attr('style', cardColor);\r\n    }\r\n\r\n    else if ($(this).hasClass('media__video-play')) {\r\n      setTimeout(function() {\r\n        $('.modal__widget').addClass('active modal_video');\r\n      }, 200)\r\n      $(document).mouseup(function (e) {\r\n        var div = $(\".modal__widget\");\r\n        if (!div.is(e.target)\r\n          && div.has(e.target).length === 0\r\n          || $('.modal__close').is(e.target)) {\r\n          $('.modal__video').trigger('pause');\r\n        }\r\n      });\r\n    }\r\n\r\n    else if ($(this).hasClass('services__slider-item')) {\r\n      setTimeout(function() {\r\n        $('.modal__widget').addClass('active modal_gallery');\r\n      }, 200)\r\n      var targetImage = $(this).find('img').attr('src');\r\n      modalServicesSlider.addSlide(1, [\r\n        '<div class=\"modal__slider-item swiper-slide\"><img src=\"' + targetImage + '\" alt=\"\"></div>'\r\n      ]);\r\n      var images = $(this).siblings('.services__slider-item');\r\n      for(var i = 0; i < images.length; i++) {\r\n        var image = images[i].querySelector('img').getAttribute('src');\r\n        modalServicesSlider.addSlide(2, [\r\n          '<div class=\"modal__slider-item swiper-slide\"><img src=\"' + image + '\" alt=\"\"></div>'\r\n        ]);\r\n      }\r\n\r\n      $(document).mouseup(function (e) {\r\n        var div = $(\".modal__widget\");\r\n        if (!div.is(e.target)\r\n          && div.has(e.target).length === 0\r\n          || $('.modal__close').is(e.target)) {\r\n          modalServicesSlider.removeAllSlides();\r\n        }\r\n      });\r\n    }\r\n\r\n    else if ($(this).hasClass('gallery__image')) {\r\n      setTimeout(function() {\r\n        $('.modal__widget').addClass('active modal_gallery');\r\n      }, 200)\r\n      var targetImage = $(this).find('img').attr('src');\r\n      modalServicesSlider.addSlide(1, [\r\n        '<div class=\"modal__slider-item swiper-slide\"><img src=\"' + targetImage + '\" alt=\"\"></div>'\r\n      ]);\r\n      var slides = $(this).closest('.gallery__slider-item').siblings('.gallery__slider-item');\r\n      var images = slides.find('img');\r\n      for(var i = 0; i < images.length; i++) {\r\n        var image = images[i].getAttribute('src');\r\n        modalServicesSlider.addSlide(2, [\r\n          '<div class=\"modal__slider-item swiper-slide\"><img src=\"' + image + '\" alt=\"\"></div>'\r\n        ]);\r\n      }\r\n\r\n      $(document).mouseup(function (e) {\r\n        var div = $(\".modal__widget\");\r\n        if (!div.is(e.target)\r\n          && div.has(e.target).length === 0\r\n          || $('.modal__close').is(e.target)) {\r\n          modalServicesSlider.removeAllSlides();\r\n        }\r\n      });\r\n    }\r\n\r\n    $('.modal').fadeIn();\r\n    $('body').addClass('no-scroll');\r\n\r\n    $(document).mouseup(function (e) {\r\n      var div = $(\".modal__wrapper, .modal__widget, .modal__special\");\r\n      if (!div.is(e.target)\r\n        && div.has(e.target).length === 0\r\n        || $('.modal__close').is(e.target)) {\r\n        $('.modal').fadeOut();\r\n\r\n        $('body').removeClass('no-scroll');\r\n        $('.modal__wrapper').removeClass('active modal_stocks modal_services modal_trainers modal_cards modal_special');\r\n        $('.modal__widget').removeClass('active modal_widget modal_video modal_gallery');\r\n        $('.modal__special').removeClass('active');\r\n        $('.modal__header').css('background-image', '');\r\n      }\r\n    });\r\n\r\n  })\r\n\r\n\r\n  //mobile menu\r\n  $('.btn-menu').click(function () {\r\n    $('.header').toggleClass('active');\r\n    $('.btn-menu').toggleClass('active');\r\n    $('body').toggleClass('no-scroll');\r\n    $('.header__menu a, .header__logo').click(function () {\r\n      $('.header').removeClass('active');\r\n      $('.btn-menu').removeClass('active');\r\n      $('body').removeClass('no-scroll');\r\n    })\r\n  })\r\n\r\n\r\n  //yandex map\r\n  if($('div').is('.contact__map')) {\r\n    ymaps.ready(init);\r\n    function init(){\r\n      // Создание карты.\r\n      var myMap = new ymaps.Map(\"map\", {\r\n        center: [55.616801460347894,37.39023250964599],\r\n        zoom: 17,\r\n        controls: []\r\n      });\r\n    }\r\n  }\r\n\r\n})"]}